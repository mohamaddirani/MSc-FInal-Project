\doxysection{astar\+\_\+env.\+py}
\hypertarget{astar__env_8py_source}{}\label{astar__env_8py_source}\index{sim\_app/astar\_env.py@{sim\_app/astar\_env.py}}
\mbox{\hyperlink{astar__env_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00001}\mbox{\hyperlink{namespaceastar__env}{00001}}\ \textcolor{comment}{\#\ sim\_app/astar\_env.py}}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00002}00002\ \textcolor{keyword}{import}\ math}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00003}00003\ }
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00004}\mbox{\hyperlink{namespaceastar__env_a113c890ddff47f384bc599087cd0bb6f}{00004}}\ GRID\_SIZE\ =\ 200}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00005}\mbox{\hyperlink{namespaceastar__env_a52069690465a18fbe16e52d0221e6299}{00005}}\ CELL\_RESOLUTION\ =\ 0.2}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00007}\mbox{\hyperlink{namespaceastar__env_a066f0e03cd3776177aaea9780444d8bc}{00007}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespaceastar__env_a066f0e03cd3776177aaea9780444d8bc}{meters\_to\_grid}}(x,\ y):}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00008}00008\ \ \ \ \ cx\ =\ int(GRID\_SIZE\ //\ 2\ +\ x\ /\ CELL\_RESOLUTION)}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00009}00009\ \ \ \ \ cy\ =\ int(GRID\_SIZE\ //\ 2\ +\ y\ /\ CELL\_RESOLUTION)}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00010}00010\ \ \ \ \ \textcolor{keywordflow}{return}\ (cx,\ cy)}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00012}\mbox{\hyperlink{namespaceastar__env_a04d5b98aef45510b135dc614498a6af2}{00012}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespaceastar__env_a04d5b98aef45510b135dc614498a6af2}{grid\_to\_meters}}(cx,\ cy):}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00013}00013\ \ \ \ \ x\ =\ (cx\ -\/\ GRID\_SIZE\ //\ 2)\ *\ CELL\_RESOLUTION}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00014}00014\ \ \ \ \ y\ =\ (cy\ -\/\ GRID\_SIZE\ //\ 2)\ *\ CELL\_RESOLUTION}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00015}00015\ \ \ \ \ \textcolor{keywordflow}{return}\ (x,\ y)}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00016}00016\ }
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00017}\mbox{\hyperlink{classastar__env_1_1_a_star_environment}{00017}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classastar__env_1_1_a_star_environment}{AStarEnvironment}}:}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00018}00018\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00019}00019\ \textcolor{stringliteral}{\ \ \ \ AStarEnvironment\ provides\ an\ environment\ for\ A*\ pathfinding\ on\ a\ 2D\ grid.}}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00020}00020\ \textcolor{stringliteral}{\ \ \ \ Attributes:}}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00021}00021\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ occupancy\ (np.ndarray):\ 2D\ array\ representing\ the\ grid,\ where\ 0\ indicates\ a\ free\ cell\ and\ non-\/zero\ indicates\ an\ obstacle.}}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00022}00022\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ agent\_dict\ (dict):\ Dictionary\ containing\ agent\ information,\ including\ start\ and\ goal\ positions.}}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00023}00023\ \textcolor{stringliteral}{\ \ \ \ Methods:}}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00024}00024\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \_\_init\_\_(grid,\ start\_grid,\ goal\_grid):}}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00025}00025\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ Initializes\ the\ environment\ with\ the\ given\ grid,\ start,\ and\ goal\ positions.}}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00026}00026\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ is\_at\_goal(pos,\ agent\_name):}}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00027}00027\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ Checks\ if\ the\ given\ position\ corresponds\ to\ the\ goal\ position\ of\ the\ specified\ agent.}}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00028}00028\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ admissible\_heuristic(pos,\ agent\_name):}}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00029}00029\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ Computes\ an\ admissible\ heuristic\ (octile\ distance)\ from\ the\ given\ position\ to\ the\ agent's\ goal.}}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00030}00030\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ get\_neighbors(pos):}}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00031}00031\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ Returns\ a\ list\ of\ valid\ neighboring\ positions\ and\ their\ movement\ costs\ from\ the\ given\ position.}}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00032}00032\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00033}\mbox{\hyperlink{classastar__env_1_1_a_star_environment_a1f341dc9a0b46624f34c6336fc3d9f23}{00033}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classastar__env_1_1_a_star_environment_a1f341dc9a0b46624f34c6336fc3d9f23}{\_\_init\_\_}}(self,\ grid,\ start\_grid,\ goal\_grid):}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00034}\mbox{\hyperlink{classastar__env_1_1_a_star_environment_a04bec0153d6f4d69057eb3677dbee352}{00034}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classastar__env_1_1_a_star_environment_a04bec0153d6f4d69057eb3677dbee352}{occupancy}}\ =\ grid}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00035}\mbox{\hyperlink{classastar__env_1_1_a_star_environment_a1b2f49ec45c2b2fa1f2abeafb1c2deb7}{00035}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classastar__env_1_1_a_star_environment_a1b2f49ec45c2b2fa1f2abeafb1c2deb7}{agent\_dict}}\ =\ \{}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00036}00036\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}robot"{}}:\ \{}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00037}00037\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}start"{}}:\ start\_grid,}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00038}00038\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}goal"{}}:\ goal\_grid}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00039}00039\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00040}00040\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00042}00042\ }
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00043}\mbox{\hyperlink{classastar__env_1_1_a_star_environment_a58e28077f47cb0baace3fceb3707f65b}{00043}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classastar__env_1_1_a_star_environment_a58e28077f47cb0baace3fceb3707f65b}{is\_at\_goal}}(self,\ pos,\ agent\_name):}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00044}00044\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ pos\ ==\ self.\mbox{\hyperlink{classastar__env_1_1_a_star_environment_a1b2f49ec45c2b2fa1f2abeafb1c2deb7}{agent\_dict}}[agent\_name][\textcolor{stringliteral}{"{}goal"{}}]}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00045}00045\ }
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00046}\mbox{\hyperlink{classastar__env_1_1_a_star_environment_adf65b860c86e934e5a5889a6302ce11d}{00046}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classastar__env_1_1_a_star_environment_adf65b860c86e934e5a5889a6302ce11d}{admissible\_heuristic}}(self,\ pos,\ agent\_name):}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00047}00047\ \ \ \ \ \ \ \ \ goal\ =\ self.\mbox{\hyperlink{classastar__env_1_1_a_star_environment_a1b2f49ec45c2b2fa1f2abeafb1c2deb7}{agent\_dict}}[agent\_name][\textcolor{stringliteral}{"{}goal"{}}]}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00048}00048\ \ \ \ \ \ \ \ \ dx\ =\ abs(pos[0]\ -\/\ goal[0])}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00049}00049\ \ \ \ \ \ \ \ \ dy\ =\ abs(pos[1]\ -\/\ goal[1])}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00050}00050\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ max(dx,\ dy)\ +\ (math.sqrt(2)\ -\/\ 1)\ *\ min(dx,\ dy)}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00051}00051\ }
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00053}\mbox{\hyperlink{classastar__env_1_1_a_star_environment_a5071371cdf399ffae2c2def6e4cdeac9}{00053}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classastar__env_1_1_a_star_environment_a5071371cdf399ffae2c2def6e4cdeac9}{get\_neighbors}}(self,\ pos):}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00054}00054\ \ \ \ \ \ \ \ \ directions\ =\ [}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00055}00055\ \ \ \ \ \ \ \ \ \ \ \ \ (-\/1,\ 0),\ (1,\ 0),\ (0,\ -\/1),\ (0,\ 1),\ \ \ \ \ \ \ \textcolor{comment}{\#\ Cardinal}}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00056}00056\ \ \ \ \ \ \ \ \ \ \ \ \ (-\/1,\ -\/1),\ (-\/1,\ 1),\ (1,\ -\/1),\ (1,\ 1)\ \ \ \ \ \ \textcolor{comment}{\#\ Diagonals}}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00057}00057\ \ \ \ \ \ \ \ \ ]}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00059}00059\ \ \ \ \ \ \ \ \ neighbors\ =\ []}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00060}00060\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ dx,\ dy\ \textcolor{keywordflow}{in}\ directions:}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00061}00061\ \ \ \ \ \ \ \ \ \ \ \ \ nx,\ ny\ =\ pos[0]\ +\ dx,\ pos[1]\ +\ dy}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00062}00062\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ 0\ <=\ nx\ <\ GRID\_SIZE\ \textcolor{keywordflow}{and}\ 0\ <=\ ny\ <\ GRID\_SIZE:}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00063}00063\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classastar__env_1_1_a_star_environment_a04bec0153d6f4d69057eb3677dbee352}{occupancy}}[ny,\ nx]\ ==\ 0:\ \ \textcolor{comment}{\#\ Free\ cell}}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00064}00064\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cost\ =\ math.sqrt(2)\ \textcolor{keywordflow}{if}\ dx\ !=\ 0\ \textcolor{keywordflow}{and}\ dy\ !=\ 0\ \textcolor{keywordflow}{else}\ 1.0}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00065}00065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ neighbors.append(((nx,\ ny),\ cost))}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00066}00066\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ neighbors}
\DoxyCodeLine{\Hypertarget{astar__env_8py_source_l00067}00067\ }

\end{DoxyCode}
