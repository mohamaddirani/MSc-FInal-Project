\doxysection{send\+Simultan2\+Movement\+Sequences-\/mov.py}
\hypertarget{send_simultan2_movement_sequences-mov_8py_source}{}\label{send_simultan2_movement_sequences-mov_8py_source}\index{RemoteApi/sendSimultan2MovementSequences-\/mov.py@{RemoteApi/sendSimultan2MovementSequences-\/mov.py}}
\mbox{\hyperlink{send_simultan2_movement_sequences-mov_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00001}\mbox{\hyperlink{namespacesend_simultan2_movement_sequences-mov}{00001}}\ \textcolor{comment}{\#\ Make\ sure\ to\ have\ CoppeliaSim\ running,\ with\ followig\ scene\ loaded:}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00002}00002\ \textcolor{comment}{\#}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00003}00003\ \textcolor{comment}{\#\ scenes/messaging/movementViaRemoteApi.ttt}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00004}00004\ \textcolor{comment}{\#}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00005}00005\ \textcolor{comment}{\#\ Do\ not\ launch\ simulation,\ then\ run\ this\ script}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00006}00006\ \textcolor{comment}{\#}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00007}00007\ \textcolor{comment}{\#\ The\ client\ side\ (i.e.\ this\ script)\ depends\ on:}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00008}00008\ \textcolor{comment}{\#}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00009}00009\ \textcolor{comment}{\#\ sim.py,\ simConst.py,\ and\ the\ remote\ API\ library\ available}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00010}00010\ \textcolor{comment}{\#\ in\ programming/remoteApiBindings/lib/lib}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00011}00011\ \textcolor{comment}{\#\ Additionally\ you\ will\ need\ the\ python\ math\ and\ msgpack\ modules}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00013}00013\ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00014}00014\ \ \ \ \ \textcolor{keyword}{import}\ sim}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00015}00015\ \textcolor{keywordflow}{except}:}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00016}00016\ \ \ \ \ \textcolor{keywordflow}{print}\ (\textcolor{stringliteral}{'-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/'})}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00017}00017\ \ \ \ \ \textcolor{keywordflow}{print}\ (\textcolor{stringliteral}{'"{}sim.py"{}\ could\ not\ be\ imported.\ This\ means\ very\ probably\ that'})}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00018}00018\ \ \ \ \ \textcolor{keywordflow}{print}\ (\textcolor{stringliteral}{'either\ "{}sim.py"{}\ or\ the\ remoteApi\ library\ could\ not\ be\ found.'})}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00019}00019\ \ \ \ \ \textcolor{keywordflow}{print}\ (\textcolor{stringliteral}{'Make\ sure\ both\ are\ in\ the\ same\ folder\ as\ this\ file,'})}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00020}00020\ \ \ \ \ \textcolor{keywordflow}{print}\ (\textcolor{stringliteral}{'or\ appropriately\ adjust\ the\ file\ "{}sim.py"{}'})}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00021}00021\ \ \ \ \ \textcolor{keywordflow}{print}\ (\textcolor{stringliteral}{'-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/'})}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00022}00022\ \ \ \ \ \textcolor{keywordflow}{print}\ (\textcolor{stringliteral}{''})}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00023}00023\ }
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00024}00024\ \textcolor{keyword}{import}\ math}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00025}00025\ \textcolor{keyword}{import}\ msgpack}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00026}00026\ }
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00027}\mbox{\hyperlink{classsend_simultan2_movement_sequences-mov_1_1_client}{00027}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classsend_simultan2_movement_sequences-mov_1_1_client}{Client}}:}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00028}\mbox{\hyperlink{classsend_simultan2_movement_sequences-mov_1_1_client_a1830a0ce80fec7226325869a43c09b50}{00028}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classsend_simultan2_movement_sequences-mov_1_1_client_a1830a0ce80fec7226325869a43c09b50}{\_\_enter\_\_}}(self):}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00029}\mbox{\hyperlink{classsend_simultan2_movement_sequences-mov_1_1_client_a789444ff555e0bbdc58c31db61c53a48}{00029}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsend_simultan2_movement_sequences-mov_1_1_client_a789444ff555e0bbdc58c31db61c53a48}{executedMovId1}}=\textcolor{stringliteral}{'notReady'}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00030}\mbox{\hyperlink{classsend_simultan2_movement_sequences-mov_1_1_client_a3495258db22fccb3d5406b8547d57f26}{00030}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsend_simultan2_movement_sequences-mov_1_1_client_a3495258db22fccb3d5406b8547d57f26}{executedMovId2}}=\textcolor{stringliteral}{'notReady'}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00031}00031\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesim_aa15b32d604719a02a8fdaf117ee9362a}{sim.simxFinish}}(-\/1)\ \textcolor{comment}{\#\ just\ in\ case,\ close\ all\ opened\ connections}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00032}\mbox{\hyperlink{classsend_simultan2_movement_sequences-mov_1_1_client_af4dce6c8e9c475e302c6ddeef4be64b6}{00032}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsend_simultan2_movement_sequences-mov_1_1_client_af4dce6c8e9c475e302c6ddeef4be64b6}{id}}=\mbox{\hyperlink{namespacesim_aa0278273e11a7dd23bb6924cbd8a128c}{sim.simxStart}}(\textcolor{stringliteral}{'127.0.0.1'},19997,\textcolor{keyword}{True},\textcolor{keyword}{True},5000,5)\ \textcolor{comment}{\#\ Connect\ to\ CoppeliaSim}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00033}00033\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00034}00034\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00035}\mbox{\hyperlink{classsend_simultan2_movement_sequences-mov_1_1_client_af37143e1172e462c3a8259ac4eac3ec4}{00035}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classsend_simultan2_movement_sequences-mov_1_1_client_af37143e1172e462c3a8259ac4eac3ec4}{\_\_exit\_\_}}(self,*err):}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00036}00036\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesim_aa15b32d604719a02a8fdaf117ee9362a}{sim.simxFinish}}(-\/1)}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00037}00037\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{print}\ (\textcolor{stringliteral}{'Program\ ended'})}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00038}00038\ }
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00039}00039\ \textcolor{keyword}{with}\ \mbox{\hyperlink{classsend_simultan2_movement_sequences-mov_1_1_client}{Client}}()\ \textcolor{keyword}{as}\ client:}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00040}00040\ \ \ \ \ print(\textcolor{stringliteral}{"{}running"{}})}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00042}00042\ \ \ \ \ \textcolor{keywordflow}{if}\ client.id!=-\/1:}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00043}00043\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{print}\ (\textcolor{stringliteral}{'Connected\ to\ remote\ API\ server'})}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00044}00044\ }
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00045}\mbox{\hyperlink{namespacesend_simultan2_movement_sequences-mov_a7e36cef23be0b15892d5c6f6c0d977bf}{00045}}\ \ \ \ \ \ \ \ \ targetArm1=\textcolor{stringliteral}{'/blueArm'}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00046}\mbox{\hyperlink{namespacesend_simultan2_movement_sequences-mov_a2363d116033a201e9050ea205fff6ec0}{00046}}\ \ \ \ \ \ \ \ \ targetArm2=\textcolor{stringliteral}{'/redArm'}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00047}00047\ }
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00048}\mbox{\hyperlink{namespacesend_simultan2_movement_sequences-mov_a4124da25f1912f57f9141823f33d1955}{00048}}\ \ \ \ \ \ \ \ \ client.stringSignalName1=targetArm1+\textcolor{stringliteral}{'\_executedMovId'}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00049}\mbox{\hyperlink{namespacesend_simultan2_movement_sequences-mov_a217ac857583cf77a03ec87ef8be0b9fe}{00049}}\ \ \ \ \ \ \ \ \ client.stringSignalName2=targetArm2+\textcolor{stringliteral}{'\_executedMovId'}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00050}00050\ }
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00051}\mbox{\hyperlink{namespacesend_simultan2_movement_sequences-mov_a186acc0dcd07257edc2fd625fd24e93d}{00051}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesend_simultan2_movement_sequences-mov_a186acc0dcd07257edc2fd625fd24e93d}{waitForMovementExecuted1}}(id):}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00052}00052\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ client.executedMovId1!=id:}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00053}00053\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ retCode,s=\mbox{\hyperlink{namespacesim_adfed967dbdd35694cf69ea72286f7d6e}{sim.simxGetStringSignal}}(client.id,client.stringSignalName1,sim.simx\_opmode\_buffer)}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00054}00054\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ retCode==sim.simx\_return\_ok:}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00055}00055\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ type(s)==bytearray:}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00056}00056\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s=s.decode(\textcolor{stringliteral}{'ascii'})\ \textcolor{comment}{\#\ python2/python3\ differences}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00057}00057\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ client.executedMovId1=s}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00059}\mbox{\hyperlink{namespacesend_simultan2_movement_sequences-mov_a6bd56651536954327191ccd22d7dd055}{00059}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesend_simultan2_movement_sequences-mov_a6bd56651536954327191ccd22d7dd055}{waitForMovementExecuted2}}(id):}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00060}00060\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ client.executedMovId2!=id:}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00061}00061\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ retCode,s=\mbox{\hyperlink{namespacesim_adfed967dbdd35694cf69ea72286f7d6e}{sim.simxGetStringSignal}}(client.id,client.stringSignalName2,sim.simx\_opmode\_buffer)}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00062}00062\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ retCode==sim.simx\_return\_ok:}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00063}00063\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ type(s)==bytearray:}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00064}00064\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s=s.decode(\textcolor{stringliteral}{'ascii'})\ \textcolor{comment}{\#\ python2/python3\ differences}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00065}00065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ client.executedMovId2=s}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00066}00066\ }
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00067}00067\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Start\ streaming\ client.stringSignalName1\ and\ client.stringSignalName2\ string\ signals:}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00068}00068\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesim_adfed967dbdd35694cf69ea72286f7d6e}{sim.simxGetStringSignal}}(client.id,client.stringSignalName1,sim.simx\_opmode\_streaming)}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00069}00069\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesim_adfed967dbdd35694cf69ea72286f7d6e}{sim.simxGetStringSignal}}(client.id,client.stringSignalName2,sim.simx\_opmode\_streaming)}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00070}00070\ }
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00071}00071\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Set-\/up\ some\ movement\ variables:}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00072}\mbox{\hyperlink{namespacesend_simultan2_movement_sequences-mov_acd225a36643ff2b5e1945d9fbc530566}{00072}}\ \ \ \ \ \ \ \ \ mVel=100*math.pi/180}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00073}\mbox{\hyperlink{namespacesend_simultan2_movement_sequences-mov_a1e87026b991e53462dde11f13c5cf191}{00073}}\ \ \ \ \ \ \ \ \ mAccel=150*math.pi/180}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00074}\mbox{\hyperlink{namespacesend_simultan2_movement_sequences-mov_a6e4b8d0697d8df816ed6d6381494ec1e}{00074}}\ \ \ \ \ \ \ \ \ maxVel=[mVel,mVel,mVel,mVel,mVel,mVel]}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00075}\mbox{\hyperlink{namespacesend_simultan2_movement_sequences-mov_af1cf1e306185869ff8cf1d9e0a71ff88}{00075}}\ \ \ \ \ \ \ \ \ maxAccel=[mAccel,mAccel,mAccel,mAccel,mAccel,mAccel]}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00076}\mbox{\hyperlink{namespacesend_simultan2_movement_sequences-mov_a3233ce7723ba97137bb9f40cd49a0ca2}{00076}}\ \ \ \ \ \ \ \ \ targetVel=[0,0,0,0,0,0]}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00077}00077\ }
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00078}00078\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Start\ simulation:}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00079}00079\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesim_a89c634a979e4418b3e2f457a98f92542}{sim.simxStartSimulation}}(client.id,sim.simx\_opmode\_blocking)}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00080}00080\ }
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00081}00081\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Wait\ until\ ready:}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00082}00082\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesend_simultan2_movement_sequences-mov_a186acc0dcd07257edc2fd625fd24e93d}{waitForMovementExecuted1}}(\textcolor{stringliteral}{'ready'})\ }
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00083}00083\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesend_simultan2_movement_sequences-mov_a186acc0dcd07257edc2fd625fd24e93d}{waitForMovementExecuted1}}(\textcolor{stringliteral}{'ready'})\ }
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00084}00084\ }
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00085}00085\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Send\ first\ movement\ sequence:}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00086}\mbox{\hyperlink{namespacesend_simultan2_movement_sequences-mov_add32c8a20a5b00918246d54d98be88ca}{00086}}\ \ \ \ \ \ \ \ \ targetConfig=[90*math.pi/180,90*math.pi/180,-\/90*math.pi/180,90*math.pi/180,90*math.pi/180,90*math.pi/180]}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00087}\mbox{\hyperlink{namespacesend_simultan2_movement_sequences-mov_a853acb0e5ccfc6dda3d511c89759af03}{00087}}\ \ \ \ \ \ \ \ \ movementData=\{\textcolor{stringliteral}{"{}id"{}}:\textcolor{stringliteral}{"{}movSeq1"{}},\textcolor{stringliteral}{"{}type"{}}:\textcolor{stringliteral}{"{}mov"{}},\textcolor{stringliteral}{"{}targetConfig"{}}:targetConfig,\textcolor{stringliteral}{"{}targetVel"{}}:targetVel,\textcolor{stringliteral}{"{}maxVel"{}}:maxVel,\textcolor{stringliteral}{"{}maxAccel"{}}:maxAccel\}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00088}\mbox{\hyperlink{namespacesend_simultan2_movement_sequences-mov_aaa24d788c18156c8da242b3f2b7f597c}{00088}}\ \ \ \ \ \ \ \ \ packedMovementData=msgpack.packb(movementData)}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00089}00089\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesim_ad7ec14cb10bb224b8018a370e9d9aed0}{sim.simxCallScriptFunction}}(client.id,targetArm1,sim.sim\_scripttype\_childscript,\textcolor{stringliteral}{'legacyRemoteApi\_movementDataFunction'},[],[],[],packedMovementData,sim.simx\_opmode\_oneshot)}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00090}00090\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesim_ad7ec14cb10bb224b8018a370e9d9aed0}{sim.simxCallScriptFunction}}(client.id,targetArm2,sim.sim\_scripttype\_childscript,\textcolor{stringliteral}{'legacyRemoteApi\_movementDataFunction'},[],[],[],packedMovementData,sim.simx\_opmode\_oneshot)}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00091}00091\ }
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00092}00092\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Execute\ first\ movement\ sequence:}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00093}00093\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesim_ad7ec14cb10bb224b8018a370e9d9aed0}{sim.simxCallScriptFunction}}(client.id,targetArm1,sim.sim\_scripttype\_childscript,\textcolor{stringliteral}{'legacyRemoteApi\_executeMovement'},[],[],[],\textcolor{stringliteral}{'movSeq1'},sim.simx\_opmode\_oneshot)}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00094}00094\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesim_ad7ec14cb10bb224b8018a370e9d9aed0}{sim.simxCallScriptFunction}}(client.id,targetArm2,sim.sim\_scripttype\_childscript,\textcolor{stringliteral}{'legacyRemoteApi\_executeMovement'},[],[],[],\textcolor{stringliteral}{'movSeq1'},sim.simx\_opmode\_oneshot)}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00095}00095\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00096}00096\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Wait\ until\ above\ movement\ sequence\ finished\ executing:}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00097}00097\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesend_simultan2_movement_sequences-mov_a186acc0dcd07257edc2fd625fd24e93d}{waitForMovementExecuted1}}(\textcolor{stringliteral}{'movSeq1'})\ }
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00098}00098\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesend_simultan2_movement_sequences-mov_a186acc0dcd07257edc2fd625fd24e93d}{waitForMovementExecuted1}}(\textcolor{stringliteral}{'movSeq1'})\ }
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00099}00099\ }
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00100}00100\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Send\ second\ and\ third\ movement\ sequence,\ where\ third\ one\ should\ execute\ immediately\ after\ the\ second\ one:}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00101}00101\ \ \ \ \ \ \ \ \ targetConfig=[-\/90*math.pi/180,45*math.pi/180,90*math.pi/180,135*math.pi/180,90*math.pi/180,90*math.pi/180]}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00102}00102\ \ \ \ \ \ \ \ \ targetVel=[-\/60*math.pi/180,-\/20*math.pi/180,0,0,0,0]}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00103}00103\ \ \ \ \ \ \ \ \ movementData=\{\textcolor{stringliteral}{"{}id"{}}:\textcolor{stringliteral}{"{}movSeq2"{}},\textcolor{stringliteral}{"{}type"{}}:\textcolor{stringliteral}{"{}mov"{}},\textcolor{stringliteral}{"{}targetConfig"{}}:targetConfig,\textcolor{stringliteral}{"{}targetVel"{}}:targetVel,\textcolor{stringliteral}{"{}maxVel"{}}:maxVel,\textcolor{stringliteral}{"{}maxAccel"{}}:maxAccel\}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00104}00104\ \ \ \ \ \ \ \ \ packedMovementData=msgpack.packb(movementData)}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00105}00105\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesim_ad7ec14cb10bb224b8018a370e9d9aed0}{sim.simxCallScriptFunction}}(client.id,targetArm1,sim.sim\_scripttype\_childscript,\textcolor{stringliteral}{'legacyRemoteApi\_movementDataFunction'},[],[],[],packedMovementData,sim.simx\_opmode\_oneshot)}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00106}00106\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesim_ad7ec14cb10bb224b8018a370e9d9aed0}{sim.simxCallScriptFunction}}(client.id,targetArm2,sim.sim\_scripttype\_childscript,\textcolor{stringliteral}{'legacyRemoteApi\_movementDataFunction'},[],[],[],packedMovementData,sim.simx\_opmode\_oneshot)}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00107}00107\ \ \ \ \ \ \ \ \ targetConfig=[0,0,0,0,0,0]}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00108}00108\ \ \ \ \ \ \ \ \ targetVel=[0,0,0,0,0,0]}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00109}00109\ \ \ \ \ \ \ \ \ movementData=\{\textcolor{stringliteral}{"{}id"{}}:\textcolor{stringliteral}{"{}movSeq3"{}},\textcolor{stringliteral}{"{}type"{}}:\textcolor{stringliteral}{"{}mov"{}},\textcolor{stringliteral}{"{}targetConfig"{}}:targetConfig,\textcolor{stringliteral}{"{}targetVel"{}}:targetVel,\textcolor{stringliteral}{"{}maxVel"{}}:maxVel,\textcolor{stringliteral}{"{}maxAccel"{}}:maxAccel\}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00110}00110\ \ \ \ \ \ \ \ \ packedMovementData=msgpack.packb(movementData)}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00111}00111\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesim_ad7ec14cb10bb224b8018a370e9d9aed0}{sim.simxCallScriptFunction}}(client.id,targetArm1,sim.sim\_scripttype\_childscript,\textcolor{stringliteral}{'legacyRemoteApi\_movementDataFunction'},[],[],[],packedMovementData,sim.simx\_opmode\_oneshot)}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00112}00112\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesim_ad7ec14cb10bb224b8018a370e9d9aed0}{sim.simxCallScriptFunction}}(client.id,targetArm2,sim.sim\_scripttype\_childscript,\textcolor{stringliteral}{'legacyRemoteApi\_movementDataFunction'},[],[],[],packedMovementData,sim.simx\_opmode\_oneshot)}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00113}00113\ }
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00114}00114\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Execute\ second\ and\ third\ movement\ sequence:}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00115}00115\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesim_ad7ec14cb10bb224b8018a370e9d9aed0}{sim.simxCallScriptFunction}}(client.id,targetArm1,sim.sim\_scripttype\_childscript,\textcolor{stringliteral}{'legacyRemoteApi\_executeMovement'},[],[],[],\textcolor{stringliteral}{'movSeq2'},sim.simx\_opmode\_oneshot)}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00116}00116\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesim_ad7ec14cb10bb224b8018a370e9d9aed0}{sim.simxCallScriptFunction}}(client.id,targetArm2,sim.sim\_scripttype\_childscript,\textcolor{stringliteral}{'legacyRemoteApi\_executeMovement'},[],[],[],\textcolor{stringliteral}{'movSeq2'},sim.simx\_opmode\_oneshot)}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00117}00117\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesim_ad7ec14cb10bb224b8018a370e9d9aed0}{sim.simxCallScriptFunction}}(client.id,targetArm1,sim.sim\_scripttype\_childscript,\textcolor{stringliteral}{'legacyRemoteApi\_executeMovement'},[],[],[],\textcolor{stringliteral}{'movSeq3'},sim.simx\_opmode\_oneshot)}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00118}00118\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesim_ad7ec14cb10bb224b8018a370e9d9aed0}{sim.simxCallScriptFunction}}(client.id,targetArm2,sim.sim\_scripttype\_childscript,\textcolor{stringliteral}{'legacyRemoteApi\_executeMovement'},[],[],[],\textcolor{stringliteral}{'movSeq3'},sim.simx\_opmode\_oneshot)}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00119}00119\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00120}00120\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Wait\ until\ above\ 2\ movement\ sequences\ finished\ executing:}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00121}00121\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesend_simultan2_movement_sequences-mov_a186acc0dcd07257edc2fd625fd24e93d}{waitForMovementExecuted1}}(\textcolor{stringliteral}{'movSeq3'})}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00122}00122\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesend_simultan2_movement_sequences-mov_a186acc0dcd07257edc2fd625fd24e93d}{waitForMovementExecuted1}}(\textcolor{stringliteral}{'movSeq3'})}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00123}00123\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00124}00124\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesim_a13687c62101564b2bf5bfb5b30fe1e66}{sim.simxStopSimulation}}(client.id,sim.simx\_opmode\_blocking)}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00125}00125\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesim_adfed967dbdd35694cf69ea72286f7d6e}{sim.simxGetStringSignal}}(client.id,client.stringSignalName1,sim.simx\_opmode\_discontinue)}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00126}00126\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesim_adfed967dbdd35694cf69ea72286f7d6e}{sim.simxGetStringSignal}}(client.id,client.stringSignalName2,sim.simx\_opmode\_discontinue)}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00127}00127\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesim_a3b45208b35f3ebabc0e02238ca2ae9c8}{sim.simxGetPingTime}}(client.id)}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00128}00128\ }
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00129}00129\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Now\ close\ the\ connection\ to\ CoppeliaSim:}}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00130}00130\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesim_aa15b32d604719a02a8fdaf117ee9362a}{sim.simxFinish}}(client.id)}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00131}00131\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00132}00132\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{print}\ (\textcolor{stringliteral}{'Failed\ connecting\ to\ remote\ API\ server'})}
\DoxyCodeLine{\Hypertarget{send_simultan2_movement_sequences-mov_8py_source_l00133}00133\ }

\end{DoxyCode}
